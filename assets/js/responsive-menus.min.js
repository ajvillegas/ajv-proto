var siteMenuParams=typeof ajv_proto_responsive_menus==='undefined'?'':ajv_proto_responsive_menus,siteMenusUnchecked=siteMenuParams.menuClasses,siteMenus={},menusToCombine=[];(function(document,$,undefined){'use strict';$.each(siteMenusUnchecked,function(group){siteMenus[group]=[];$.each(this,function(key,value){var menuString=value,$menu=$(value);if($menu.length>1){$.each($menu,function(key,value){var newString=menuString+'-'+key;$(this).addClass(newString.replace('.',''));siteMenus[group].push(newString);if('combine'===group){menusToCombine.push(newString);}});}else if($menu.length==1){siteMenus[group].push(menuString);if('combine'===group){menusToCombine.push(menuString);}}});});if(typeof siteMenus.others=='undefined'){siteMenus.others=[];}if(menusToCombine.length==1){siteMenus.others.push(menusToCombine[0]);siteMenus.combine=null;menusToCombine=null;}var siteMenu={},mainMenuButtonClass='menu-toggle',subMenuButtonClass='sub-menu-toggle',responsiveMenuClass='site-responsive-menu';siteMenu.init=function(){if($(_getAllMenusArray()).length==0){return;}var menuIconClass=typeof siteMenuParams.menuIconClass!=='undefined'?siteMenuParams.menuIconClass:'dashicons-before dashicons-menu',subMenuIconClass=typeof siteMenuParams.subMenuIconClass!=='undefined'?siteMenuParams.subMenuIconClass:'dashicons-before dashicons-arrow-down-alt2',toggleButtons={menu:$('<button />',{'class':mainMenuButtonClass,'aria-expanded':false,'aria-pressed':false,'role':'button'}).append(siteMenuParams.mainMenu),submenu:$('<button />',{'class':subMenuButtonClass,'aria-expanded':false,'aria-pressed':false,'role':'button'}).append($('<span />',{'class':'screen-reader-text','text':siteMenuParams.subMenu}))};_addResponsiveMenuClass();_addMenuButtons(toggleButtons);$('.'+mainMenuButtonClass).addClass(menuIconClass);$('.'+subMenuButtonClass).addClass(subMenuIconClass);$('.'+mainMenuButtonClass).on('click.siteMenu-mainbutton',_mainmenuToggle).each(_addClassID);$('.'+subMenuButtonClass).on('click.siteMenu-subbutton',_submenuToggle);$(window).on('resize.siteMenu',_doResize).triggerHandler('resize.siteMenu');};function _addMenuButtons(toggleButtons){$(_getMenuSelectorString(siteMenus)).find('.sub-menu').before(toggleButtons.submenu);if(menusToCombine!==null){var menusToToggle=siteMenus.others.concat(menusToCombine[0]);$(_getMenuSelectorString(menusToToggle)).before(toggleButtons.menu);}else{$(_getMenuSelectorString(siteMenus.others)).before(toggleButtons.menu);}}function _addResponsiveMenuClass(){$(_getMenuSelectorString(siteMenus)).addClass(responsiveMenuClass);}function _doResize(){var buttons=$('button[id^="site-mobile-"]').attr('id');if(typeof buttons==='undefined'){return;}_maybeClose(buttons);_superfishToggle(buttons);_changeSkipLink(buttons);_combineMenus(buttons);}function _addClassID(){var $this=$(this),nav=$this.next('nav'),id='class';$this.attr('id','site-mobile-'+$(nav).attr(id).match(/nav-\w*\b/));}function _combineMenus(buttons){if(menusToCombine==null){return;}var primaryMenu=menusToCombine[0],combinedMenus=$(menusToCombine).filter(function(index){if(index>0){return index;}});if('none'!==_getDisplayValue(buttons)){$.each(combinedMenus,function(key,value){$(value).find('.menu > li').addClass('moved-item-'+value.replace('.','')).appendTo(primaryMenu+' ul.site-nav-menu');});$(_getMenuSelectorString(combinedMenus)).hide();}else{$(_getMenuSelectorString(combinedMenus)).show();$.each(combinedMenus,function(key,value){$('.moved-item-'+value.replace('.','')).appendTo(value+' ul.site-nav-menu').removeClass('moved-item-'+value.replace('.',''));});}}function _mainmenuToggle(){var $this=$(this);_toggleAria($this,'aria-pressed');_toggleAria($this,'aria-expanded');$this.toggleClass('activated');$this.next('nav').slideToggle('fast');}function _submenuToggle(){var $this=$(this),others=$this.closest('.menu-item').siblings();_toggleAria($this,'aria-pressed');_toggleAria($this,'aria-expanded');$this.toggleClass('activated');$this.next('.sub-menu').slideToggle('fast');others.find('.'+subMenuButtonClass).removeClass('activated').attr('aria-pressed','false');others.find('.sub-menu').slideUp('fast');}function _superfishToggle(buttons){var _superfish=$('.'+responsiveMenuClass+' .js-superfish'),$args='destroy';if(typeof _superfish.superfish!=='function'){return;}if('none'===_getDisplayValue(buttons)){$args={'delay':100,'animation':{'opacity':'show','height':'show'},'dropShadows':false,'speed':'fast'};}_superfish.superfish($args);}function _changeSkipLink(buttons){var menuToggleList=_getAllMenusArray();if(!$(menuToggleList).length>0){return;}$.each(menuToggleList,function(key,value){var newValue=value.replace('.',''),startLink='site-'+newValue,endLink='site-mobile-'+newValue;if('none'==_getDisplayValue(buttons)){startLink='site-mobile-'+newValue;endLink='site-'+newValue;}var $item=$('.site-skip-link a[href="#'+startLink+'"]');if(menusToCombine!==null&&value!==menusToCombine[0]){$item.toggleClass('skip-link-hidden');}if($item.length>0){var link=$item.attr('href');link=link.replace(startLink,endLink);$item.attr('href',link);}else{return;}});}function _maybeClose(buttons){if('none'!==_getDisplayValue(buttons)){return true;}$('.'+mainMenuButtonClass+', .'+responsiveMenuClass+' .sub-menu-toggle').removeClass('activated').attr('aria-expanded',false).attr('aria-pressed',false);$('.'+responsiveMenuClass+', '+responsiveMenuClass+' .sub-menu').attr('style','');}function _getDisplayValue($id){var element=document.getElementById($id),style=window.getComputedStyle(element);return style.getPropertyValue('display');}function _toggleAria($this,attribute){$this.attr(attribute,function(index,value){return'false'===value;});}function _getMenuSelectorString(itemArray){var itemString=$.map(itemArray,function(value,key){return value;});return itemString.join(',');}function _getAllMenusArray(){var menuList=[];if(menusToCombine!==null){$.each(menusToCombine,function(key,value){menuList.push(value.valueOf());});}$.each(siteMenus.others,function(key,value){menuList.push(value.valueOf());});if(menuList.length>0){return menuList;}else{return null;}}$(document).ready(function(){if(_getAllMenusArray()!==null){siteMenu.init();}});})(document,jQuery);